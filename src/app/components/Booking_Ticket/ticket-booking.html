<div class="ticket-page">

  <!-- BOOK TICKET CARD -->
  <div class="ticket-card">
    <h3 class="card-title">ðŸŽŸ Book Your Seat</h3>

 <form class="mt-3">

  @for (p of passengers; track p; let i = $index) {

    <div class="form-group mb-3">
      <label class="form-label">
        Seat Number (Passenger {{ i + 1 }})
      </label>

      <input
        [(ngModel)]="p.seatNo"
        name="seat{{i}}"
        type="text"
        class="form-control"
        placeholder="Eg: 12A">
    </div>
  }

  <button
    type="button"
    class="btn btn-outline-secondary w-100 mb-2"
    (click)="addPassenger()">
    âž• Add Passenger
  </button>

  <button
    type="button"
    class="btn btn-primary w-100"
    (click)="bookTickets()">
    Book Tickets
  </button>

</form>

  </div>

  <!-- TICKETS LIST -->
  @if(tickets$ | async; as tickets){

    <div class="tickets-section">

      <h4 class="section-title">âœˆ Your Tickets</h4>

      @if(tickets.length > 0){
        <div class="ticket-list">
          @for(ticket of tickets; track ticket.id){
            <div class="ticket-item">
              <div class="ticket-route">
                {{ ticket.origin }} â†’ {{ ticket.destination }}
              </div>

              <div class="ticket-meta">
                <span><b>PNR:</b> {{ ticket.pnr }}</span>
                <span>{{ ticket.departureTime }} â€“ {{ ticket.arrivalTime }}</span>
              </div>
            </div>
          }
        </div>
      }

      @if(tickets.length === 0){
        <div class="empty-state">
          No tickets found
        </div>
      }

    </div>
  }
</div>
